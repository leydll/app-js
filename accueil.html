<!doctype html>
<html lang="fr" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Application de vente en ligne" />
    <meta name="author" content="Leïla Diallo" />
    <meta name="keywords" content="makeup, France, skincare" />
    <meta name="robots" content="index,follow" />
    <title>Cult Beauty</title>
    <link rel="stylesheet" href="styles.css" />
    <script
      src="https://kit.fontawesome.com/1b1fa6fbda.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.3/dist/alpine.min.js"
      defer
    ></script>
  </head>
  <body>
    <main x-data="ProductList">
      <div>
        <h1>Nos produits de beauté</h1>

        <div>
          <label for="category">Catégorie :</label>
          <select id="category" x-model="selectedCategory">
            <option value="">Toutes les catégories</option>
            <option value="maquillage">Maquillage</option>
            <option value="skincare">Soins de la peau</option>
          </select>
        </div>

        <div x-show="filteredProducts.length > 0">
          <ul>
            <template x-for="product in filteredProducts" :key="product.name">
              <li>
                <strong x-text="product.name"></strong> -
                <span x-text="product.price + '€'"></span>
                <p x-text="product.description"></p>
              </li>
            </template>
          </ul>
        </div>

        <div x-show="filteredProducts.length === 0">
          <p>Aucun produit trouvé pour cette catégorie.</p>
        </div>

        <div>
          <h2>Total : <span x-text="'€' + totalPrice()"></span></h2>
        </div>

        <button x-show="isLoggedIn" @click="logout" class="button is-danger">
          <i class="fas fa-sign-out-alt"></i> Déconnexion
        </button>
      </div>
    </main>
  </body>

  <script src="main.js" type="module"></script>
</html>
